"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[497],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>d});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var o=a.createContext({}),p=function(e){var n=a.useContext(o),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(o.Provider,{value:n},e.children)},k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,s=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(t),d=i,m=u["".concat(o,".").concat(d)]||u[d]||k[d]||s;return t?a.createElement(m,r(r({ref:n},c),{},{components:t})):a.createElement(m,r({ref:n},c))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var s=t.length,r=new Array(s);r[0]=u;var l={};for(var o in n)hasOwnProperty.call(n,o)&&(l[o]=n[o]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var p=2;p<s;p++)r[p]=t[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},9679:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>k,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var a=t(7462),i=(t(7294),t(3905));const s={title:"Jenkins\ub85c CI/CD \uc124\uc815",slug:22,tags:["Jenkins","Elastic Beanstalk"]},r=void 0,l={permalink:"/22",editUrl:"https://github.com/greeng00se/greeng00se.github.io/tree/main/blog/2023-04-30-Jenkins\ub85c \ubc30\ud3ec \uc790\ub3d9\ud654 \uc124\uc815/2023-04-30-Jenkins\ub85c \ubc30\ud3ec \uc790\ub3d9\ud654 \uc124\uc815.mdx",source:"@site/blog/2023-04-30-Jenkins\ub85c \ubc30\ud3ec \uc790\ub3d9\ud654 \uc124\uc815/2023-04-30-Jenkins\ub85c \ubc30\ud3ec \uc790\ub3d9\ud654 \uc124\uc815.mdx",title:"Jenkins\ub85c CI/CD \uc124\uc815",description:"\uc124\uc815 \ud658\uacbd",date:"2023-04-30T00:00:00.000Z",formattedDate:"2023\ub144 4\uc6d4 30\uc77c",tags:[{label:"Jenkins",permalink:"/tags/jenkins"},{label:"Elastic Beanstalk",permalink:"/tags/elastic-beanstalk"}],readingTime:7.495,hasTruncateMarker:!1,authors:[],frontMatter:{title:"Jenkins\ub85c CI/CD \uc124\uc815",slug:"22",tags:["Jenkins","Elastic Beanstalk"]},prevItem:{title:"[\uc6b0\uc544GPT] 2. \ubc30\ud3ec",permalink:"/23"},nextItem:{title:"[\uc6b0\uc544GPT] 1. \ud504\ub85c\ud1a0\ud0c0\uc785 \ub9cc\ub4e4\uae30",permalink:"/21"}},o={authorsImageUrls:[]},p=[{value:"\uc124\uc815 \ud658\uacbd",id:"\uc124\uc815-\ud658\uacbd",level:3},{value:"[EC2 CLI] Swap \uba54\ubaa8\ub9ac \uc124\uc815",id:"ec2-cli-swap-\uba54\ubaa8\ub9ac-\uc124\uc815",level:3},{value:"[EC2 CLI] jenkins \uc124\uce58",id:"ec2-cli-jenkins-\uc124\uce58",level:3},{value:"[EC2 CLI] Jenkins \uc2dc\uc791",id:"ec2-cli-jenkins-\uc2dc\uc791",level:3},{value:"[EC2 CLI] nginx &amp; git \uc124\uce58",id:"ec2-cli-nginx--git-\uc124\uce58",level:3},{value:"[EC2 CLI] nginx \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc \uc124\uc815",id:"ec2-cli-nginx-\ub9ac\ubc84\uc2a4-\ud504\ub85d\uc2dc-\uc124\uc815",level:3},{value:"[Jenkins] Jenkins \uc811\uc18d",id:"jenkins-jenkins-\uc811\uc18d",level:3},{value:"[Jenkins] Jenkins Blue Ocean \uc124\uce58",id:"jenkins-jenkins-blue-ocean-\uc124\uce58",level:3},{value:"[AWS IAM &amp; EC2] IAM\uc73c\ub85c EC2 \uc778\uc2a4\ud134\uc2a4 \uad8c\ud55c \uc124\uc815\ud558\uae30",id:"aws-iam--ec2-iam\uc73c\ub85c-ec2-\uc778\uc2a4\ud134\uc2a4-\uad8c\ud55c-\uc124\uc815\ud558\uae30",level:3},{value:"[AWS S3] Jar \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud560 S3 \ubc84\ud0b7 \uc0dd\uc131",id:"aws-s3-jar-\ud30c\uc77c\uc744-\uc5c5\ub85c\ub4dc-\ud560-s3-\ubc84\ud0b7-\uc0dd\uc131",level:3},{value:"[Github] Blue Ocean\uc5d0\uc11c \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131\uc5d0 \ud544\uc694\ud55c Github Token \uc0dd\uc131",id:"github-blue-ocean\uc5d0\uc11c-\ud30c\uc774\ud504\ub77c\uc778-\uc0dd\uc131\uc5d0-\ud544\uc694\ud55c-github-token-\uc0dd\uc131",level:3},{value:"[Jenkins] \ube14\ub8e8 \uc624\uc158 \uc2dc\uc791",id:"jenkins-\ube14\ub8e8-\uc624\uc158-\uc2dc\uc791",level:3},{value:"[Github Repsoitory] Jenkinsfile \uc124\uc815",id:"github-repsoitory-jenkinsfile-\uc124\uc815",level:3},{value:"[Github] Webhooks \uc124\uc815",id:"github-webhooks-\uc124\uc815",level:3},{value:"\ucc38\uace0 \uc790\ub8cc",id:"\ucc38\uace0-\uc790\ub8cc",level:3}],c={toc:p};function k(e){let{components:n,...s}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,s,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"\uc124\uc815-\ud658\uacbd"},"\uc124\uc815 \ud658\uacbd"),(0,i.kt)("p",null,"\uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc774\ubbf8\uc9c0: Amazon Linux 2023 AMI",(0,i.kt)("br",{parentName:"p"}),"\n","\uc544\ud0a4\ud14d\uccd0: ARM",(0,i.kt)("br",{parentName:"p"}),"\n","\uc778\uc2a4\ud134\uc2a4 \uc720\ud615: t4g.small",(0,i.kt)("br",{parentName:"p"}),"\n","\ud658\uacbd \uad6c\uc131\uc774 \uc644\ub8cc\ub41c Elastic Beanstalk",(0,i.kt)("br",{parentName:"p"}),"\n","\ub2e8\uc77c Spring Boot \ud504\ub85c\uc81d\ud2b8\uac00 \uc874\uc7ac\ud558\ub294 Github Repository"),(0,i.kt)("h3",{id:"ec2-cli-swap-\uba54\ubaa8\ub9ac-\uc124\uc815"},"[","EC2 CLI","]"," Swap \uba54\ubaa8\ub9ac \uc124\uc815"),(0,i.kt)("p",null,"t4g.small\uc774 \ub7a8\uc774 2G\uc778\ub370 \ub7a8\uc774 \ubd80\uc871\ud558\ub2e4\uace0 \ub290\uaef4\uc838\uc11c swap \uba54\ubaa8\ub9ac\ub97c \uc124\uc815\ud588\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ub530\ub77c swap \uba54\ubaa8\ub9ac\ub97c \uc124\uc815\ud558\uace0 free -h \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc798 \uc124\uc815\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\ub2e4.  "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"# fallocate \uc774\uc6a9\ud558\uc5ec \uc2a4\uc651 \ud30c\uc77c \uc0dd\uc131\nsudo fallocate -l 2G /swapfile\n\n# \uad8c\ud55c \uc124\uc815\nsudo chmod 600 /swapfile\n\n# \ud30c\uc77c\uc744 Swap \ud3ec\ub9f7\uc73c\ub85c \ubcc0\uacbd \ud6c4 \uc2dc\uc2a4\ud15c\uc5d0 \ub4f1\ub85d\nsudo mkswap /swapfile\nsudo swapon /swapfile\n\n# Swap \uba54\ubaa8\ub9ac \ubd80\ud305\uc2dc \uc790\ub3d9\uc73c\ub85c \ub9c8\uc6b4\ud2b8\ud558\ub3c4\ub85d \uc801\uc6a9\n# \ucd5c\ud558\ub2e8\uc5d0 \ub2e4\uc74c \uad6c\ubb38 \uc124\uc815 -> /swapfile swap swap defaults 0 0\nsudo vim /etc/fstab\n")),(0,i.kt)("h3",{id:"ec2-cli-jenkins-\uc124\uce58"},"[","EC2 CLI","]"," jenkins \uc124\uce58"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo wget -O /etc/yum.repos.d/jenkins.repo \\\n    https://pkg.jenkins.io/redhat-stable/jenkins.repo\nsudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io-2023.key\nsudo yum upgrade\nsudo yum install java-17-amazon-corretto-devel\nsudo yum install jenkins\nsudo systemctl daemon-reload\n")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.jenkins.io/doc/book/installing/linux/#red-hat-centos"},"Jenkins \uacf5\uc2dd \ud648\ud398\uc774\uc9c0")," \ub97c \ucc38\uace0\ud558\uc5ec \uc124\uce58\ud558\ub294 \uac8c \uc88b\ub2e4."),(0,i.kt)("h3",{id:"ec2-cli-jenkins-\uc2dc\uc791"},"[","EC2 CLI","]"," Jenkins \uc2dc\uc791"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl enable jenkins\nsudo systemctl start jenkins\n")),(0,i.kt)("p",null,"enable\ub85c \uc124\uc815\ud558\uc5ec \ubd80\ud305\uc2dc \uc790\ub3d9\uc2dc\uc791 \ub418\ub3c4\ub85d \uc124\uc815\ud55c\ub2e4."),(0,i.kt)("h3",{id:"ec2-cli-nginx--git-\uc124\uce58"},"[","EC2 CLI","]"," nginx & git \uc124\uce58"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"sudo yum install nginx\nsudo systemctl enable nginx\nsudo systemctl start nginx\n\nsudo yum install git\n")),(0,i.kt)("p",null,"nginx\uc640 \ucf54\ub4dc\ub97c \ubd88\ub7ec\uc62c \ub54c \uc0ac\uc6a9\ud560 git\uc744 \uc124\uce58\ud55c\ub2e4."),(0,i.kt)("h3",{id:"ec2-cli-nginx-\ub9ac\ubc84\uc2a4-\ud504\ub85d\uc2dc-\uc124\uc815"},"[","EC2 CLI","]"," nginx \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc \uc124\uc815"),(0,i.kt)("p",null,"\uc544\ub798 \uc124\uc815 \ud30c\uc77c\uc740 \uacf5\uc2dd \ud648\ud398\uc774\uc9c0\uc5d0\uc11c \uc548\ub0b4\ud55c \uae30\ubcf8\uc801\uc778 \uc124\uc815 \ud30c\uc77c\uc774\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'upstream jenkins {\n  keepalive 32; # keepalive connections\n  server 127.0.0.1:8080; # jenkins ip and port\n}\n\n# Required for Jenkins websocket agents\nmap $http_upgrade $connection_upgrade {\n  default upgrade;\n  \'\' close;\n}\n\nserver {\n  listen          80;       # Listen on port 80 for IPv4 requests\n\n  server_name     jenkins.example.com;  # replace \'jenkins.example.com\' with your server domain name\n\n  # this is the jenkins web root directory\n  # (mentioned in the output of "systemctl cat jenkins")\n  root            /var/run/jenkins/war/;\n\n  access_log      /var/log/nginx/jenkins.access.log;\n  error_log       /var/log/nginx/jenkins.error.log;\n\n  # pass through headers from Jenkins that Nginx considers invalid\n  ignore_invalid_headers off;\n\n  location ~ "^/static/[0-9a-fA-F]{8}\\/(.*)$" {\n    # rewrite all static files into requests to the root\n    # E.g /static/12345678/css/something.css will become /css/something.css\n    rewrite "^/static/[0-9a-fA-F]{8}\\/(.*)" /$1 last;\n  }\n\n  location /userContent {\n    # have nginx handle all the static requests to userContent folder\n    # note : This is the $JENKINS_HOME dir\n    root /var/lib/jenkins/;\n    if (!-f $request_filename){\n      # this file does not exist, might be a directory or a /**view** url\n      rewrite (.*) /$1 last;\n      break;\n    }\n    sendfile on;\n  }\n\n  location / {\n      sendfile off;\n      proxy_pass         http://jenkins;\n      proxy_redirect     default;\n      proxy_http_version 1.1;\n\n      # Required for Jenkins websocket agents\n      proxy_set_header   Connection        $connection_upgrade;\n      proxy_set_header   Upgrade           $http_upgrade;\n\n      proxy_set_header   Host              $host;\n      proxy_set_header   X-Real-IP         $remote_addr;\n      proxy_set_header   X-Forwarded-For   $proxy_add_x_forwarded_for;\n      proxy_set_header   X-Forwarded-Proto $scheme;\n      proxy_max_temp_file_size 0;\n\n      #this is the maximum upload size\n      client_max_body_size       10m;\n      client_body_buffer_size    128k;\n\n      proxy_connect_timeout      90;\n      proxy_send_timeout         90;\n      proxy_read_timeout         90;\n      proxy_buffering            off;\n      proxy_request_buffering    off; # Required for HTTP CLI commands\n      proxy_set_header Connection ""; # Clear for keepalive\n  }\n\n}\n')),(0,i.kt)("p",null,"Jenkins\ub294 8080 \ud3ec\ud2b8\ub85c \ub3d9\uc791\ud558\uae30 \ub54c\ubb38\uc5d0 \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc\ub97c \uc124\uc815\ud574\uc900\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"/etc/nginx/conf.d"),"\xa0\uc544\ub798\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"default.conf"),"\xa0\ud30c\uc77c\uc744 \ud558\ub098 \uc0dd\uc131\ud558\uace0 \uc704\uc640 \uac19\uc774 \uc785\ub825\ud558\uace0 \uc800\uc7a5\ud55c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","nginx\uc758 \uae30\ubcf8 \uc124\uc815 \ud30c\uc77c\uc5d0 \uc874\uc7ac\ud558\ub294\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"include /etc/nginx/conf.d/*.conf;"),"\xa0\uc124\uc815 \ub54c\ubb38\uc5d0\xa0",(0,i.kt)("inlineCode",{parentName:"p"},".conf"),"\xa0\ub85c \ub05d\ub09c\ub2e4\uba74 \uc124\uc815\uc774 \uc801\uc6a9\ub41c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\uc124\uc815 \ud6c4\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"sudo nginx -t"),"\ub85c \uc124\uc815\ud30c\uc77c\uc774 \uc815\uc0c1\uc778\uc9c0 \ud655\uc778\ud558\uace0,\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"sudo systemctl restart nginx"),"\xa0\uba85\ub839\uc5b4\ub85c nginx\ub97c \uc7ac\uc2dc\uc791\ud55c\ub2e4.  "),(0,i.kt)("h3",{id:"jenkins-jenkins-\uc811\uc18d"},"[","Jenkins","]"," Jenkins \uc811\uc18d"),(0,i.kt)("p",null,"Jenkins\ub97c \uc124\uce58\ud55c EC2 \uc778\uc2a4\ud134\uc2a4 \uc778\ubc14\uc6b4\ub4dc \uc124\uc815\uc5d0 80\ubc88 \ud3ec\ud2b8\uac00 \uc5f4\ub824\uc788\ub294\uc9c0 \ud655\uc778\ud55c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","EC2\uc758 \uc544\uc774\ud53c \uc8fc\uc18c\ub97c \uc785\ub825\ud558\uace0 \ub4e4\uc5b4\uac00\uba74 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\ub77c\ub294 \ucc3d\uc774 \ub098\uc628\ub2e4."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"jenkins-start",src:t(3374).Z,width:"2008",height:"1836"})),(0,i.kt)("p",null,"\ucd08\uae30 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc57c \ud558\ub294\ub370 ",(0,i.kt)("inlineCode",{parentName:"p"},"sudo cat /var/lib/jenkins/secrets/initialAdminPasswor")," \ub97c \uc785\ub825\ud574 \ucd08\uae30 \ube44\ubc00\ubc88\ud638\ub97c \uc5bb\uc744 \uc218 \uc788\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uba74 \ud50c\ub7ec\uadf8\uc778 \uc124\uc815 \ucc3d\uc774 \ub098\uc62c\ud150\ub370 ",(0,i.kt)("inlineCode",{parentName:"p"},"install suggested plugins"),"\uc744 \ud074\ub9ad\ud558\uc5ec Jenkins\uac00 \ucd94\ucc9c\ud558\ub294 \uae30\ubcf8 \ud50c\ub7ec\uadf8\uc778\ub4e4\uc744 \uc124\uce58\ud558\uba74 \ub41c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ud50c\ub7ec\uadf8\uc778\uc744 \uc124\uce58\ud558\uba74 \uacc4\uc815 \ubc0f \uc8fc\uc18c \uc124\uc815\uc744 \ud574\uc57c\ud558\ub294\ub370 \uc774\uac74 \ud3b8\ud558\uac8c \uc124\uc815\ud558\uba74 \ub41c\ub2e4.  "),(0,i.kt)("h3",{id:"jenkins-jenkins-blue-ocean-\uc124\uce58"},"[","Jenkins","]"," Jenkins Blue Ocean \uc124\uce58"),(0,i.kt)("p",null,"Jenkins \uad00\ub9ac \u2192 Plugin Manager\uc5d0\uc11c Blue Ocean\uc744 \uac80\uc0c9\ud574 \uc124\uce58\ud55c\ub2e4."),(0,i.kt)("h3",{id:"aws-iam--ec2-iam\uc73c\ub85c-ec2-\uc778\uc2a4\ud134\uc2a4-\uad8c\ud55c-\uc124\uc815\ud558\uae30"},"[","AWS IAM & EC2","]"," IAM\uc73c\ub85c EC2 \uc778\uc2a4\ud134\uc2a4 \uad8c\ud55c \uc124\uc815\ud558\uae30"),(0,i.kt)("p",null,"S3\uc640 Elastic Beanstalk\uc5d0 \uc811\uadfc\ud560 \uc218 \uc788\ub294 \uad8c\ud55c\uc744 \ubd80\uc5ec\ud558\ub824\uba74 AmazonS3FullAccess, AdministratorAccess-AWSElasticBeanstalk \ub450 \uac1c\uc758 \uc815\ucc45\uc744 \uac00\uc9c0\uace0 \uc788\ub294 \uc5ed\ud560\uc744 \uc0dd\uc131\ud574\uc57c \ud55c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","IAM\uc5d0\uc11c \ub2e4\uc74c\uacfc \uac19\uc774 \uc5ed\ud560\uc744 \ud558\ub098 \uc0c8\ub85c \uc0dd\uc131\ud55c\ub2e4."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\uc5d4\ud130\ud2f0 \uc120\ud0dd")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"aws-iam1",src:t(2994).Z,width:"2282",height:"1028"})),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"\uad8c\ud55c \ucd94\uac00")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"aws-iam2",src:t(7345).Z,width:"2300",height:"880"})),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"\uc774\ub984 \uc9c0\uc815, \uac80\ud1a0 \ubc0f \uc0dd\uc131")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"aws-iam3",src:t(328).Z,width:"1872",height:"1724"})),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"\uc0dd\uc131\ud55c IAM EC2 Jenkins \uc778\uc2a4\ud134\uc2a4\ub97c \uc120\ud0dd\ud558\uace0, \uc791\uc5c5 \u2192 \ubcf4\uc548 \u2192 IAM \uc5ed\ud560 \uc218\uc815\uc744 \ub20c\ub7ec Role \uc124\uc815")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"aws-iam4",src:t(333).Z,width:"2264",height:"602"})),(0,i.kt)("h3",{id:"aws-s3-jar-\ud30c\uc77c\uc744-\uc5c5\ub85c\ub4dc-\ud560-s3-\ubc84\ud0b7-\uc0dd\uc131"},"[","AWS S3","]"," Jar \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud560 S3 \ubc84\ud0b7 \uc0dd\uc131"),(0,i.kt)("p",null,"\ubc84\ud0b7\uc744 \uc0dd\uc131\ud560 \ub54c \ub2e4\uc74c \uc124\uc815\uc744 \uc81c\uc678\ud558\uace0 \ubaa8\ub450 \ucc28\ub2e8 \ud65c\uc131\ud654\ub97c \ud574\uc900\ub2e4."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"\uc0c8 ACL(\uc561\uc138\uc2a4 \uc81c\uc5b4 \ubaa9\ub85d)\uc744 \ud1b5\ud574 \ubd80\uc5ec\ub41c \ubc84\ud0b7 \ubc0f \uac1d\uccb4\uc5d0 \ub300\ud55c \ud37c\ube14\ub9ad \uc561\uc138\uc2a4 \ucc28\ub2e8"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"aws-s3",src:t(3649).Z,width:"1636",height:"1258"})),(0,i.kt)("h3",{id:"github-blue-ocean\uc5d0\uc11c-\ud30c\uc774\ud504\ub77c\uc778-\uc0dd\uc131\uc5d0-\ud544\uc694\ud55c-github-token-\uc0dd\uc131"},"[","Github","]"," Blue Ocean\uc5d0\uc11c \ud30c\uc774\ud504\ub77c\uc778 \uc0dd\uc131\uc5d0 \ud544\uc694\ud55c Github Token \uc0dd\uc131"),(0,i.kt)("p",null,"repo, user:email \uad8c\ud55c\uc774 \uc788\ub294 \ud1a0\ud070\uc774 \ud544\uc694\ud558\ub2e4.  "),(0,i.kt)("h3",{id:"jenkins-\ube14\ub8e8-\uc624\uc158-\uc2dc\uc791"},"[","Jenkins","]"," \ube14\ub8e8 \uc624\uc158 \uc2dc\uc791"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"jenkins-blue-ocean1",src:t(4590).Z,width:"2390",height:"1372"})),(0,i.kt)("p",null,"\ube14\ub8e8 \uc624\uc158 \uc5f4\uae30\ub85c \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc0dd\uc131\ud55c\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","\ud1a0\ud070 \uc785\ub825 \u2192 \uc870\uc9c1 \uc120\ud0dd \u2192 CI/CD \uc124\uc815\ud560 Repository \uc120\ud0dd\uc744 \ud558\uba74 \ud30c\uc774\ud504\ub77c\uc778 \ucc3d\uc73c\ub85c \ub118\uc5b4\uac04\ub2e4.",(0,i.kt)("br",{parentName:"p"}),"\n","Jenkinsfile\uc744 \uc9c1\uc811 \uc791\uc131\ud558\uc5ec \uc124\uc815\ud558\uae30 \uc704\ud574 \uac04\ub2e8\ud558\uac8c print \ud558\ub098 \ucd9c\ub825\ud558\ub294 \uac83\uc73c\ub85c \uc124\uc815\ud588\ub2e4.  "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"jenkins-blue-ocean2",src:t(9685).Z,width:"2076",height:"638"})),(0,i.kt)("p",null,"\ud30c\uc774\ud504\ub77c\uc778\uc774 \uc2e4\ud589\ub420 \ud150\ub370 pipeline status\uc5d0\uc11c \uc544\ub798\uc640 \uac19\uc774 \ucd08\ub85d\ubd88\uc774 \ub728\uba74 \ub41c\ub2e4."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"jenkins-blue-ocean3",src:t(658).Z,width:"1084",height:"626"})),(0,i.kt)("h3",{id:"github-repsoitory-jenkinsfile-\uc124\uc815"},"[","Github Repsoitory","]"," Jenkinsfile \uc124\uc815"),(0,i.kt)("p",null,"\ube14\ub8e8 \uc624\uc158 \uc2dc\uc791\uc744 \ud1b5\ud574 \uc124\uc815\ud558\uba74 Jenkinsfile\uc774 \ud558\ub098 \ub9cc\ub4e4\uc5b4\uc9c0\uace0, \uc544\ub798\uc640 \uac19\uc774 \uc6d0\ud558\ub294 \ud30c\uc774\ud504\ub77c\uc778\uc744 \uc124\uc815\ud55c\ub2e4."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pipeline {\n  agent any\n  stages {\n    stage('build and test') {\n      steps {\n        sh '/gradlew clean build'\n      }\n    }\n    stage('zip') {\n      steps {\n        sh 'mv ./build/libs/woowachat.jar .'\n        sh 'zip -r woowachat.zip .platform delivery.jar Procfile'\n      }\n    }\n    stage('upload') {\n      steps {\n        sh 'aws s3 cp woowachat.zip s3://woowa-chat/woowachat.zip --region ap-northeast-2'\n      }\n    }\n    stage('deploy') {\n      steps {\n        sh 'aws elasticbeanstalk create-application-version --region ap-northeast-2 --application-name woowachat --version-label ${BUILD_TAG} --source-bundle S3Bucket=\"woowa-chat\",S3Key=\"woowachat.zip\"'\n        sh 'aws elasticbeanstalk update-environment --region ap-northeast-2 --environment-name Woowachat-env --version-label ${BUILD_TAG}'\n      }\n    }\n  }\n}\n")),(0,i.kt)("h3",{id:"github-webhooks-\uc124\uc815"},"[","Github","]"," Webhooks \uc124\uc815"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"github-hook",src:t(2326).Z,width:"1428",height:"1148"})),(0,i.kt)("p",null,"push \uc774\ubca4\ud2b8\uac00 \ubc1c\uc0dd\ud560 \ub54c ",(0,i.kt)("inlineCode",{parentName:"p"},"http://Jenkins\uc8fc\uc18c/github-webhook/")," \ub85c post request\ub97c \ud558\ub3c4\ub85d \uc6f9\ud6c5\uc744 \uc124\uc815\ud55c\ub2e4."),(0,i.kt)("h3",{id:"\ucc38\uace0-\uc790\ub8cc"},"\ucc38\uace0 \uc790\ub8cc"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://www.jenkins.io/doc/book/installing/linux/#red-hat-centos"},"Install Jenkins - CentOS, Jenkins"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://www.jenkins.io/doc/book/system-administration/reverse-proxy-configuration-nginx/"},"Nginx Reverse Proxy Configuration, Jenkins"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/amazon-linux-install.html"},"Amazon Corretto 17 JDK Install, AWS"),(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/linux/al2023/release-notes/all-packages-al2023-20230419.html"},"Amazon Linux 2023 packages, AWS")))}k.isMDXComponent=!0},2994:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/aws-iam1-e6d63be6b9f41d63e91d604138e6b07c.png"},7345:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/aws-iam2-557683fc91b1c22330d081d6050dfe82.png"},328:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/aws-iam3-94248e9194dd58bb16d0289af47a4260.png"},333:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/aws-iam4-54ccc5a4e64d31f7eeab89d39ebf772f.png"},3649:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/aws-s3-757380d36e5492c962f75dae024994e5.png"},2326:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/github-hook-e9ebe0acb3ff0086ecebbd8c857ffe39.png"},4590:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/jenkins-blue-ocean1-bd108d887d700ea081e4b0a3d83ad459.png"},9685:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/jenkins-blue-ocean2-408c6c90e4a5371becc4d1013fba1212.png"},658:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/jenkins-blue-ocean3-4050a206b3efe95a3c9f39c3f7a47ad7.png"},3374:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/jenkins-start-dce0d7051054c398d2a707c75c685234.png"}}]);